# å®‰è£…çŠ¶æ€æ€»ç»“

## âœ… å·²å®‰è£…çš„ä¾èµ–

1. **OpenCV** âœ… - å·²å®‰è£… (ç‰ˆæœ¬ 4.12.0)
2. **PyTorch** âœ… - å·²å®‰è£…ï¼ˆä½†å¯èƒ½æœ‰æƒé™é—®é¢˜ï¼‰
3. **NumPy** âœ… - å·²å®‰è£…

## âš ï¸ éœ€è¦å®‰è£…çš„ä¾èµ–

1. **CLIPåº“** - éœ€è¦æ‰‹åŠ¨å®‰è£…

## ğŸ“ å®‰è£…æ­¥éª¤

ç”±äºç½‘ç»œæƒé™é™åˆ¶ï¼Œè¯·åœ¨**ç»ˆç«¯ä¸­æ‰‹åŠ¨è¿è¡Œ**ä»¥ä¸‹å‘½ä»¤ï¼š

### æ­¥éª¤1ï¼šæ‰“å¼€ç»ˆç«¯

```bash
cd /Users/yanwenqi/Desktop/Video-Eval
```

### æ­¥éª¤2ï¼šæ¿€æ´»è™šæ‹Ÿç¯å¢ƒ

```bash
source .venv/bin/activate
```

### æ­¥éª¤3ï¼šå®‰è£…CLIP

```bash
# æ–¹æ³•1ï¼šç›´æ¥å®‰è£…ï¼ˆæ¨èï¼‰
pip install git+https://github.com/openai/CLIP.git

# å¦‚æœé‡åˆ°SSLé—®é¢˜ï¼Œä½¿ç”¨ï¼š
pip install --trusted-host pypi.org --trusted-host pypi.python.org --trusted-host files.pythonhosted.org git+https://github.com/openai/CLIP.git

# å¦‚æœç½‘ç»œæ…¢ï¼Œä½¿ç”¨å›½å†…é•œåƒï¼š
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple git+https://github.com/openai/CLIP.git
```

### æ­¥éª¤4ï¼šéªŒè¯å®‰è£…

```bash
python test_clipscore.py
```

å¦‚æœæ˜¾ç¤º"âœ“ CLIPå·²å®‰è£…"ï¼Œè¯´æ˜å®‰è£…æˆåŠŸã€‚

## ğŸš€ å®‰è£…å®Œæˆåä½¿ç”¨

### æµ‹è¯•CLIPScore

```bash
# ä½¿ç”¨ç¤ºä¾‹è§†é¢‘
python clipscore_simple.py "Video Example/01_å³æ¢¦_flowers blooming from the ground, movie, cinematic, documentary, uhd_2024-08-06 21_54_21.mp4" "flowers blooming from the ground"
```

### åœ¨Pythonä»£ç ä¸­ä½¿ç”¨

```python
from clipscore_simple import CLIPScoreCalculator

# åˆ›å»ºè®¡ç®—å™¨
calculator = CLIPScoreCalculator()

# è®¡ç®—å›¾åƒCLIPScore
score = calculator.calculate_score('image.jpg', 'a beautiful sunset')
print(f"CLIPScore: {score:.4f}")

# è®¡ç®—è§†é¢‘CLIPScore
result = calculator.calculate_video_clipscore(
    'video.mp4', 
    'flowers blooming from the ground'
)
print(f"å¹³å‡CLIPScore: {result['mean_clipscore']:.4f}")
```

## ğŸ”§ å¦‚æœé‡åˆ°é—®é¢˜

### é—®é¢˜1ï¼šSSLè¯ä¹¦é”™è¯¯

```bash
pip install --trusted-host pypi.org --trusted-host pypi.python.org --trusted-host files.pythonhosted.org git+https://github.com/openai/CLIP.git
```

### é—®é¢˜2ï¼šç½‘ç»œæ…¢

```bash
# ä½¿ç”¨æ¸…åé•œåƒ
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple git+https://github.com/openai/CLIP.git
```

### é—®é¢˜3ï¼šæƒé™é”™è¯¯

```bash
# ä½¿ç”¨ç”¨æˆ·å®‰è£…
pip install --user git+https://github.com/openai/CLIP.git
```

### é—®é¢˜4ï¼šå¦‚æœCLIPå®‰è£…å¤±è´¥

**æ›¿ä»£æ–¹æ¡ˆï¼šä½¿ç”¨LPIPS**ï¼ˆæ¨èï¼Œæ— éœ€ç¼–è¯‘ï¼‰

```bash
pip install lpips
```

LPIPSå¯ä»¥ç›´æ¥pip installï¼Œæ— éœ€ç¼–è¯‘ï¼ŒåŠŸèƒ½å¼ºå¤§ã€‚

## ğŸ“š ç›¸å…³æ–‡ä»¶

- `clipscore_simple.py` - CLIPScoreå®ç°
- `test_clipscore.py` - æµ‹è¯•è„šæœ¬
- `æ‰‹åŠ¨å®‰è£…CLIPæŒ‡å—.md` - è¯¦ç»†å®‰è£…æŒ‡å—
- `CLIPScoreä½¿ç”¨æŒ‡å—.md` - ä½¿ç”¨æŒ‡å—

## âœ¨ å¿«é€Ÿå‘½ä»¤æ€»ç»“

```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd /Users/yanwenqi/Desktop/Video-Eval

# 2. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source .venv/bin/activate

# 3. å®‰è£…CLIP
pip install git+https://github.com/openai/CLIP.git

# 4. æµ‹è¯•
python test_clipscore.py

# 5. è¿è¡ŒCLIPScore
python clipscore_simple.py "Video Example/01_å³æ¢¦_flowers blooming from the ground, movie, cinematic, documentary, uhd_2024-08-06 21_54_21.mp4" "flowers blooming from the ground"
```

---

**å½“å‰çŠ¶æ€ï¼š** OpenCVå·²å®‰è£… âœ…ï¼ŒCLIPéœ€è¦æ‰‹åŠ¨å®‰è£… âš ï¸

